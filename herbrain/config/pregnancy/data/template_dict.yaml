template_dict:
  _target_: polpo.preprocessing.Pipeline
  steps:
    - _target_: polpo.preprocessing.dict.DictExtractKey
      data: ${data:template_image}  # Use the output of the template_dict step
      key: image  # Extract only the "image" key from MriNiiLoader's output

    - _target_: polpo.preprocessing.mri.SkimageMarchingCubes
      level: 0
      step_size: 1
      allow_degenerate: false
      method: lewiner

    - _target_: polpo.preprocessing.TupleToList

    - _target_: polpo.preprocessing.RemoveIndex
      index: -1
      inplace: true

    - _target_: polpo.preprocessing.mesh.conversion.TrimeshFromData

    - _target_: polpo.preprocessing.dict.DictAddMesh  # âœ… Immediately add mesh to dictionary
      data: ${data:template_image}  # Use the existing template_dict
